---
title: Invalid Hook Call Warning
layout: single
permalink: warnings/invalid-hook-call-warning.html
---

  ุดูุง ุงุญุชูุงูุง ุจู ุงู ุฏูู ุงูุฌุง ูุณุชุฏ ฺฉู ุฎุทุง ุฒุฑ ุฑุง ุฏุฑุงูุช ฺฉุฑุฏู ุงุฏ:

 > Hooks can only be called inside the body of a function component

ุงู ุฎุทุง ุจู ุณู ุฏูู ูุชุฏุงูู ุจู ุฌูุฏ ู ุขุฏ:

1. ููฺฉู ุงุณุช ูุณุฎู  React ู React Dom ุดูุง ูุงูุชูุงุณุจ ุจุงุดูุฏ.
2. ููฺฉู ุงุณุช ุงุฒ **[ููุงูู ููฺฉ ูุง](/docs/hooks-rules.html)** ุชุจุนุช ูฺฉุฑุฏู ุจุงุดุฏ.
3. ููฺฉู ุงุณุช **ุจุด ุงุฒ ฺฉ ูุณุฎู ุงุฒ React** ุฏุฑ ฺฉ ุจุฑูุงูู ุฏุงุดุชู ุจุงุดุฏ.

ุจุงุฏ ูุฑ ฺฉ ุงุฒ ููุงุฑุฏ ุจุงูุง ุฑุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุจุฑุฑุณ ฺฉูู.

## ูุงูุชูุงุณุจ ุจูุฏู ูุณุฎู  React ู React DOM {#mismatching-versions-of-react-and-react-dom}

ููฺฉู ุงุณุช ุดูุง ูุณุฎู ุง ุงุฒ โโ`react-dom`(<16.8.0) ุง `reactโnative`(<0.59)ุฑุง ูุตุจ ฺฉุฑุฏู ุจุงุดุฏ ฺฉู ุงุฒ ููฺฉ ูุง ูพุดุชุงู ูู ฺฉูุฏ. ุดูุง ู ุชูุงูุฏ ุฏุฑ ูพูุดู ุจุฑูุงูู ุฎูุฏ ุจุง ุงุฌุฑุง ุฏุณุชูุฑ `npm ls react-dom` ุง ุฏุณุชูุฑ `npm ls react-native` ุฏุฑ ุชุฑููุงู ุงุฒ ูุณุฎู ููุฑุฏ ุงุณุชูุงุฏู ุฎูุฏ ูุทูุน ุดูุฏ. ูุฌูุฏ ุจุด ุงุฒ ฺฉ ูุณุฎู ุงุฒ ุขู ูุง ุฏุฑ ูพูุดู ุจุฑูุงูู ูู ู ุชูุงูุฏ ูุดฺฉู ุงุฌุงุฏ ฺฉูุฏ.
## ุนุฏู ุชุจุนุช ุงุฒ ููุงูู ููฺฉ ูุง {#breaking-the-rules-of-hooks}

 ุชููุง ุฒูุงู ูุฌุงุฒ ุจู ูุฑุงุฎูุงู ููฺฉ ูุง ูุณุชุฏ ฺฉู **ุฑโุงฺฉุช ุฏุฑ ุญุงู ุฑูุฏุฑ ฺฉุฑุฏู ฺฉ function component ุจุงุดุฏ**.
* โ ููฺฉ ูุง ุฑุง ุงูู ุจุฏูู  function component ูุง ูุฑุงุฎูุงู ฺฉูุฏ.
* โ ููฺฉ ูุง ุฑุง ุงูู ุจุฏูู  [custom Hook](/docs/hooks-custom.html) ูุง ูุฑุงุฎูุงู ฺฉูุฏ

**ุฏุฑุจุงุฑู ุงู ููุถูุน ุฏุฑ [ููุงูู ููฺฉ ูุง](/docs/hooks-rules.html) ุจุดุชุฑ ูุทุงูุนู ฺฉูุฏ.**

```js{2-3,8-9}
// function component
function Counter() {
  // โ ุงุณุชูุงุฏู ููุงุณุจ
  const [count, setCount] = useState(0);
  // ...
}

// custom hook
function useWindowWidth() {
  // โ ุงุณุชูุงุฏู ููุงุณุจ
  const [width, setWidth] = useState(window.innerWidth);
  // ...
}
```

ูุฑุงุฎูุงู ููฺฉ ูุง ุฏุฑ ููุงุฑุฏ ูพุงู ูพุดุชุจุงู ูู ุดูุฏ:
* ๐ด ุฏุฑ class component ูุง ููฺฉ ูุง ุฑุง ูุฑุงุฎูุงู ูฺฉูุฏ.
* ๐ด ุฏุฑ event handler ูุง ููฺฉ ูุง ุฑุง ูุฑุงุฎูุงู ูฺฉูุฏ.
* ๐ด ููฺฉ ูุง ุฑุง ุฏุฑ ุชูุงุจุน ฺฉู ุจู `useMemo`, `useReducer` ุง `useEffect` ุงุฑุณุงู ุดุฏู ุงูุฏ ูุฑุงุฎูุงู ูฺฉูุฏ.

ุงฺฏุฑ ุงุฒ ููุงูู ุจุงูุง ุชุจุนุช ูฺฉูุฏ ููฺฉู ุงุณุช ุจู ุงู ุฎุทุง ุจุฑุฎูุฑุฏ ฺฉูุฏ.

```js{3-4,11-12,20-21}
function Bad1() {
   //event handlers
  function handleClick() {
    // ๐ด ุงุณุชูุงุฏู ูุง ููุงุณุจ : ููฺฉ ุฑุง ุจู ุฎุงุฑุฌ ุงู ูุณูุช ููุชูู ฺฉูุฏ
    const theme = useContext(ThemeContext);
  }
  // ...
}

function Bad2() {
   //useMemo
  const style = useMemo(() => {
    // ๐ด ุงุณุชูุงุฏู ูุงููุงุณุจ : ููฺฉ ุฑุง ุจู ุฎุงุฑุฌ ุงู ูุณูุช ููุชูู ฺฉูุฏ
    const theme = useContext(ThemeContext);
    return createStyle(theme);
  });
  // ...
}

class Bad3 extends React.Component {
   //class component
  render() {
    // ๐ด ุงุณุชูุงุฏู ูุงููุงุณุจ
    useEffect(() => {})
    // ...
  }
}
```

ู ุชูุงูุฏ ุจุฑุง ุงูุชู ุจุฑุฎ ุงุฒู ุงุดฺฉุงูุงุช ุงุฒ [`eslint-plugin-react-hooks` plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) ุงุณุชูุงุฏู ููุงุฏ.
>ูฺฉุชู
> 
>custom hook ูุง *ููฺฉู ุงุณุช* ุฏฺฏุฑ ููฺฉ ูุง ุฑุง ูุฑุงุฎูุงู ฺฉููุฏ(ูุฏู ุขู ูุง ููู ุงุณุช!). ุงู ูุฑุงุฎูุงู ูุดฺฉู ุงุฌุงุฏ ูู ฺฉูุฏ ฺูู custom hook ูุง ุฎูุฏ ูุฒ ุจุงุฏ ููุช ูุฑุงุฎูุงู ุดููุฏ ฺฉู ฺฉ function component ุฏุฑ ุญุงู ุฑูุฏุฑ ุดุฏู ุงุณุช.

## ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ูุณุฎู ุฑโุงฺฉุช {#duplicate-react}

ุจุฑุง ุงูฺฉู ููฺฉ ูุง ุจู ุทูุฑ ุตุญุญ ฺฉุงุฑ ฺฉููุฏ import react ุงุฒ ฺฉุฏ ุจุฑูุงูู ุดูุง ุจุงุฏ ุจุง import react ุงุฒ ุฏุงุฎู ุจุณุชู `react-dom` ุงุฒ ฺฉ `module` ุจุงุดูุฏ.
ุงฺฏุฑ import ูุง `react` ูุฑุจูุท ุจู ุฏู ุดุฆ ูุชูุงูุช ุดููุฏ ุงู ุฎุทุง ุฑุง ู ุจูุฏ. ุงู ููฺฉู ุงุณุช ุจู ุงู ุฏูู ุฑุฎ ุฏุงุฏู ุจุงุดุฏ ฺฉู ุดูุง ุจู ุตูุฑุช ุงุชูุงู ุฏู ุจุณุชู ุงุฒ `react` ุฑุง ุฏุงุดุชู ุจุงุดุฏ.
ุงฺฏุฑ ุงุฒ `Node` ุจุฑุง ูุฏุฑุช ุจุณุชู ูุง ุงุณุชูุงุฏู ู ฺฉูุฏ ู ุชูุงูุฏ ุงู ุชุณุช ุฑุง ุฏุฑ ูพูุดู ุจุฑูุงูู ุฎูุฏ ุงุฌุฑุง ฺฉูุฏ:

    npm ls react

ุงฺฏุฑ ุจุด ุงุฒ ฺฉ `react` ู ุจูุฏ ุจุงุฏ ุงุดฺฉุงู ฺฉุงุฑ ุฑุง ูพุฏุง ฺฉูุฏ ู `dependency tree` ุฎูุฏ ุฑุง ุงุตูุงุญ ฺฉูุฏ. ุจุฑุง ูุซุงู ููฺฉู ุงุณุช ฺฉุชุงุจุฎุงูู ุง ฺฉู ุงุณุชูุงุฏู ู ฺฉูุฏ `react` ุฑุง ุงุดุชุจุงูุง `dependency` ุชุนุฑู ฺฉุฑุฏู ุจุงุดุฏ(ุจู ุฌุง `peer dependency`). ุชุง ุฒูุงู ฺฉู ุขู ฺฉุชุงุจุฎุงูู ุงุตูุงุญ ุดูุฏ [Yarn resolutions](https://yarnpkg.com/lang/en/docs/selective-version-resolutions/) ฺฉ ุฑุงูฺฉุงุฑ ุงุญุชูุงู ุงุณุช.
ูู ฺูู ู ุชูุงูุฏ ุณุน ฺฉูุฏ ูุดฺฉู ุฎูุฏ ุฑุง ุจู ูุณูู ุฑุณุช ฺฉุฑุฏู `development server` ุง ุงุถุงูู ฺฉุฑุฏู ฺูุฏ `log` ุญู ฺฉูุฏ. 
```js
// ุงู ูุทุนู ฺฉุฏ ุฑุง ุจู ูุงู ุฒุฑ ุงุถุงูู ฺฉูุฏ
// node_modules/react-dom/index.js
window.React1 = require('react');

// ุงู ูุทุนู ฺฉุฏ ุฑุง ุจู ูุงู ฺฉุงููพูููุช ุฎูุฏ ุงุถุงูู ฺฉูุฏ
require('react-dom');
window.React2 = require('react');
console.log(window.React1 === window.React2);
```

ุงฺฏุฑ ุฎุฑูุฌ ฺฉุฏ ุจุงูุง `false` ุจูุฏ ุดูุง ุงุญุชูุงูุง ุฏู ูุณุฎู ุงุฒ `react` ุฏุงุฑุฏ ู ุจุงุฏ ุฏูู ุขู ุฑุง ุจุงุจุฏ.
[This issue](https://github.com/facebook/react/issues/13991) ุดุงูู ุชุนุฏุงุฏ ุงุฒ ุฏูุงู ูุชุฏุงูู ุงุณุช ฺฉู ุจุฑูุงูู ููุณุงู ุฏฺฏุฑ ุจู ุขู ุจุฑุฎูุฑุฏู ุงูุฏ.
ุงู ูุดฺฉู ููฺฉู ุงุณุช ุจุง ุงุณุชูุงุฏู ุงุฒ `npm link` ุง ูุธุงุฑ ุขู ูพุฏุฏ ุขุฏ. ุฏุฑ ุงู ุตูุฑุช `bundler` ุดูุง ููฺฉู ุงุณุช ุฏู ูุณุฎู ุงุฒ `react` ุฑุง ุดูุงุณุง ฺฉูุฏ. ฺฉ ุฏุฑ ูพูุดู ุจุฑูุงูู ู ุฏฺฏุฑ ุฏุฑ ูพูุดู ฺฉุชุงุจุฎุงูู. ุจุง ูุฑุถ ุงูฺฉู ูพูุดู ูุง `myapp` ู `mylib` ุฏุฑ ฺฉ ูพูุดู ฺฉุณุงู ูุณุชูุฏ ฺฉ ุฑุงูฺฉุงุฑ ุงุญุชูุงู ุงุฌุฑุง `npm link ../myapp/node_modules/react` ุงุฒ `mylib` ุงุณุช. ุงู ุฏุณุชูุฑ ฺฉุชุงุจุฎุงูู ุฑุง ูุฌุจูุฑ ุจู ุงุณุชูุงุฏู ุงุฒ ูุณุฎู `react` ุจุฑูุงูู ู ฺฉูุฏ.
>ูฺฉุชู
>
ุจู ุทูุฑ ฺฉู ุฑโุงฺฉุช ุงุณุชูุงุฏู ุงุฒ ฺูุฏ ฺฉูพ ูุณุชูู ุฏุฑ ฺฉ ุตูุญู ุฑุง ูพุดุชุจุงู ูโฺฉูุฏ.(ูุซูุง ฺฉ ุจุฑูุงูู ู ฺฉ ุงุจุฒุงุฑ third party ูุฑ ุฏู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุฏ.)ูุดฺฉู ุฒูุงู ุจู ุฌูุฏ ู ุขุฏ ฺฉู `require('react')` ุฏุฑ ฺฉุงููพูููุช ู ูุณุฎู react-dom ฺฉู ุจุง ุขู ุฑูุฏุฑ ุดุฏู ุงุณุช ุจู ุฏู ุดุฆ ูุชูุงูุช ุงุดุงุฑู ฺฉูุฏ. 
## ุฏูุงู ุฏฺฏุฑ {#other-causes}

ุงฺฏุฑ ูฺฺฉุฏุงู ุงุฒ ุฑุงู ุญู ูุง ุจุงูุง ููุซุฑ ูุจูุฏ ูุทูุง ุฏุฑ [this issue](https://github.com/facebook/react/issues/13991) ูุธุฑ ุจฺฏุฐุงุฑุฏ ู ูุง ุณุน ู ฺฉูู ุจู ุดูุง ฺฉูฺฉ ฺฉูู. ุณุน ฺฉูุฏ ฺฉ ูุซุงู ุจุงุฒุณุงุฒ ุดุฏู ู ฺฉูฺฺฉ ุจุณุงุฒุฏ - ููฺฉู ุงุณุช ุฏุฑ ุญู ุขู ุจู ูุดฺฉู ุฎูุฏ ูพ ุจุจุฑุฏ!