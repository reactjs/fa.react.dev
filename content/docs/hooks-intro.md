---
id: hooks-intro
title: معرفی Hookها
permalink: docs/hooks-intro.html
next: hooks-overview.html
---

<em>Hook</em>ها قابلیتی جدید در React 16.8 هستند. آنها امکان استفاده از state و دیگر قابلیت‌های react را بدون نیاز به نوشتن کلاس به شما می‌دهند.

```js{4,5}
import React, { useState } from 'react';

function Example() {
  // Declare a new state variable, which we'll call "count"
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
```

تابع جدید ‪<code>‬useState‪</code>‬ اولین ‪"‬Hook‪"‬ای است که یاد می‌گیریم، البته این مثال تنها یک نمایش اجمالی است‫.‬ در صورتی که آن را در نیافتید نگران نباشید‫!‬

<b>شما می‌توانید برای  شروع یادگیری Hookها از <a href="/docs/hooks-overview.html">صفحه‌ی بعد</a> شروع کنید.</b>
 در این صفحه، ما به ذکر دلایلمان برای افزودن هوک‌ها به react و اینکه آن‌ها چگونه می‌توانند به شما کمک کنند تا برنامه‌های خوبی بنویسید، می‌پردازیم.

>نکته
>
>ری‌اکت ۱۶.۸.۰ اولین نسخه منتشر شده است که از هوک‌ها پشتیبانی می‌کند. هنگام ارتقاع، فراموش نکنید همه‌ی پکیج‌ها شامل React DOM را آپدیت نمایید. React Native در نسخه‌ی بعدی پایدار از هوک‌ها پشتیبانی خواهد کرد. 


## معرفی ویدیویی {#video-introduction}

در کنفرانس ۲۰۱۸ react، سوفیا آلپرت(Sophie Alpert) و دن آبرامف(Dan Abramov) هوک‌ها را معرفی کردند. بعد از آن رایان فلورنس (Ryan Florence) نشان داد که چگونه می‌توان به منظور استفاده از آنها[هوک‌ها] یک اپلیکیشن را بازنویسی‪(‬refactor‪)‬ کرد. ویدیوی زیر را ببینید:

<br>

<iframe width="650" height="366" src="//www.youtube.com/embed/dpw9EHDh2bM" frameborder="0" allowfullscreen></iframe>

## بدون ایجاد خلل در دیگر قسمت‌ها {#no-breaking-changes}

قبل از اینکه ادامه دهیم، توجه کنید که هوک‌ها:

* **کاملا اختیاری.** شما می‌توانید هوک‌ها را  بدون نیاز به دوباره نوشتن کدهای قبلی، در چند کامپوننت جدید امتحان کنید. ولی شما در صورت عدم تمایل،‌ مجبور به فراگیریی یا استفاده از هوک‌ها کنید.
* **۱۰۰٪‌ سازگاری با قبل.** هوک‌ها با دیگر قسمت‌‌ها سازگار می‌باشد.
* **قابل استفاده از هم‌اکنون.** هوک ها هم اکنون از نسخه‌ی ۱۶.۸.۰ قابل استفاده هستند.

**هیچ برنامه‌ای برای حذف کلاس‌ها از ری‌اکت وجود ندارد.** شما می‌توانید برای مطالعه‌ی بیشتر در رابطه با راهکار‌‌های تطبیق تدریجی با هوک‌ها از [بخش پایین](#gradual-adoption-strategy) همین صفحه استفاده کنید.

**هوک‌ها جایگزینی برای دانش و فهم شما از ری‌اکت نیستند.** در عوض، هوک‌ها یک رابط برنامه‌ی کاربردی ‪(‬API‪)‬ صریح‌تر برای مفاهیم ری‌اکتی که از قبل می‌دانید فراهم می‌کنند: props ،state ،context ،ref و lifecycle. همان‌طور که بعدا نشان خواهیم داد، هوک‌ها روشی جدید و قدرتمند برای تلفیق آن‌ها ارایه می‌کنند.

**اگر هم‌اکنون می‌خواهید یادگیری هوک‌ها را شروع کنید، [مستقیم به صفحه‌ی بعد بروید!](/docs/hooks-overview.html)** البته می‌توانید مطالعه‌ی این صفحه را ادامه دهید و با دلایلی که هوک‌ها را به ری‌اکت اضافه کردیم و اینکه چگونه بدون بازنویسی اپلیکیشن‌های قبلی از آن‌ها استفاده خواهیم کرد، آشنا شوید.

## انگیزه {#motivation}

هوک‌ها پاسخی به مسایل متوعی در ری‌اکت‌اند که به ظاهر غیرمرتبط هستند. مسایلی که ما در طول ۵ سال گذشته  و نوشتن و نگه‌داری از ده ها هزار کامپوننت به آن‌ها برخورده‌ایم. چه شما  در حال یادگیری ری‌اکت هستید، چه از آن بطور روزانه استفاده می‌کنید، یا حتی استفاده از یک کتابخانه‌ی دیگر با مدل کامپوننت‌های مشابه را ترجیح می‌دهید، ممکن است با برخی از این مسایل آشنا باشید. 

### استفاده‌ی مجدد از منطق دارای state در بین کامپوننت‌ها دشوار است {#its-hard-to-reuse-stateful-logic-between-components}

ری‌اکت راهی برای ‪"‬چسباندن‪"‬ یک رفتار  قابل استفاده‌ی مجدد یه یک کامپوننت را فراهم نمی‌کند (برای مثال اتصال به یک store). اگر شما مدتی با ری‌اکت کار کرده باشید، ممکن است با الگوهایی مانند [render props](/docs/render-props.html) و [higher-order components](/docs/higher-order-components.html) آشنا باشید که سعی در حل این مسیله دارند.  اما این الگوها شما را مجبور به تغییر ساختار مجدد کامپوننتتان هنگام استفاده‌ از آن‌ها می‌کنند، که این مسیله می‌تواند مایه‌ی زحمت و سخت‌تر شدن فهم کد باشد. اگر به یک اپلیکیشن ری‌اکت نوعی در React DevTools نگاه کنید، احتمالا با "wrapper hell"ای از کامپوننت‌ها مواجه می‌شوید. کامپوننت‌هایی که با لایه‌هایی از providerها، consumerها، HOCها، render props و دیگر کامپوننت‌هایی که به تجرید کمک می‌کنند، احاطه شده‌اند.  در حالی که ما می‌توانیم [آن‌ها را در DevTools فیلتر کنیم](https://github.com/facebook/react-devtools/pull/503)، این [مشکل] به یک مسیله‌ی بنیادین اشاره دارد: ری‌اکت باید عناصری ابتدایی برای به اشتراک گذاری منطق دارای state فراهم کند.

با استفاده از هوک‌ها، شما می‌توانید بخش منطق دارای state را از یک کامپوننت استخراج کنید، بطوری که بطور مستقل بتواند مورد آزمایش و استفاده‌ی مجدد قرار گیرد. **هوک ها به شما اجازه می‌دهند که بدون ایجاد تغییر در سلسله مراتب کامپوننت‌هایتان، از منطق دارای state مجددا استفاده نمایید.** این کار باعث تسهیل در به اشتراک‌گذاری هوک‌ها بین کامپوننت‌های مختلف یا بین جامعه‪]‬ی ری‌اکت‪[‬ می‌شود.

ما در این رابطه بیشتر در  [هوک مخصوص خود را بسازید](/docs/hooks-custom.html) بحث خواهیم کرد.

### فهم کامپوننت‌های پیچیده دشوارتر می‌شود {#complex-components-become-hard-to-understand}

ما معمولا مجبور به نگه‌داری از کامپوننت‌هایی بودیم که در بدو شروع ساده بودند اما تبدیل به یک وضع آشفته‌ی غیرقابل مهار از منطق‌های دارای state و side effectها شدند. هر lifecycle متشکل از مخلوطی از منطق‌های غیر مرتبط است. برای مثال، یک کامپوننت ممکن است  در`componentDidMount` و `componentDidUpdate` به دریافت داده بپردازد. درحالی‌که همان تابع می‌تواند دارای منطقی غیر مرتبط باشد که به اضافه کردن event listenerها می‌پردازد، و در متد `componentWillUnmount` آن‌ها [event listenerها] را پاکسازی (cleanup) می‌کند. کدهایی که متقابلا به هم مرتبط هستند [مثل اضافه و پاک‌سازی event listener]  از یکدیگر جدا هستند، ولی کدهایی که کاملا غیر مرتبط‌اند [اضافه کردنevent listener و دریافت داده] در یک متد نوشته می‌شوند. که این  احتمال خطا و باگ  و ناسازگاری را بیشتر می‌کند. 

در بسیاری از موارد امکان این وجود ندارد که بتوانیم این کامپوننت‌ها را به اجزای کوچکتر تقسیم کنیم، زیرا منطق دارای state در همه جا وجود دارد. همچنین تست کردن آن‌ها دشوار است. این یکی از دلایلی است که بسیاری از افراد ترجیح می‌دهند تا ری‌اکت را با یک کتابخانه‌ی مدیریت state دیگری ترکیب کنند. اگرچه، معمولا باعث اضافه‌شدن مقدار زیادی تجرید می‌شود و  شما را مجبور می‌کند بین تعداد زیادی از فایل‌ها جابه‌جا شوید که خود باعث مشکل‌تر شدن استفاده‌ی مجدد از کامپوننت‌ها می‌گردد.

برای حل این مسیله، **هوک‌ها به شما اجازه می‌دهند یک کامپوننت را به توابع کوچکتری تقسیم کنید که مبنای آن ارتباط اجزایشان است (مثلا اضافه کردن یک اشتراک ‪(‬subscription‪)‬ یا دریافت داده)**، نه تقسیم بر اساس متدهای lifecycle‪.‬ همچنین می‌توانید برای  مدیریت state محلی از یک reducer کمک بگیرید تا بیشتر مطابق با پیش‌بینی شما باشد.

در این باره در 
[استفاده از Effect Hook](/docs/hooks-effect.html#tip-use-multiple-effects-to-separate-concerns) بیشتر بحث خواهیم کرد.

### کلاس‌ها هم انسان و هم کامپیوتر را گیج می‌کنند {#classes-confuse-both-people-and-machines}

علاوه بر دشوار کردن قابلیت استفاده مجدد از کد و نظم آن، دریافتیم که کلاس‌ها می‌توانند مانع بزرگی در یادگیری ری‌اکت باشند. شما باید یادبگیرید که  `this` چگونه در جاوااسکریپت کار می‌کند، که با نحوه‌ی کار کردش در اکثر زبان‌ها بسیار متفاوت است. شما باید به یاد داشته باشید تا event handlerها را bind کنید. بدون [syntax proposals](https://babeljs.io/docs/en/babel-plugin-transform-class-properties/)، کد بسیار طولانی خواهد بود. آدم‌ها می‌توانند props، state، و جریان بالا به پایین داده را کاملا دریابند ولی هنوز  با کلاس‌ها کلنجار بروند. برتری کامپوننت از جنس تابع یا کلاس در ری‌اکت و موارد استفاده از آن‌ها باعث اختلاف نظر است، حتی در میان دولوپرهای با تجربه‌ی ری‌اکت.

بعلاوه، ری‌اکت ۵ سال است که عرضه شده است، و ما می‌خواهیم در ۵ سال آینده مطرح باشد. همانطور که [Svelte](https://svelte.technology/)، [Angular](https://angular.io/)،[Glimmer](https://glimmerjs.com/)و دیگران نشان می‌دهند، [کامپایل پیش از موعد](https://en.wikipedia.org/wiki/Ahead-of-time_compilation) کامپوننت‌ها، پتانسیل قابلیت‌های زیادی را دارد. بالاخص اگر به تمپلت‌ها مححدود نباشد. ما اخیرا  با
[component folding](https://github.com/facebook/react/issues/7323) بوسیله‌ی [Prepack](https://prepack.io/)‌ ‌آزمایشاتی را انجام دادیم که شاهد نتایج  سریع و امیدوارکننده  بوده‌ایم‫.‬ اگرچه دریافتیم که کامپوننت‌های کلاسی می‌توانند ناخواسته باعث افزایش الگوهایی می‌شوند که چنین بهینه‌سازی‌هایی را بدتر می‌کنند‫.‬  کلاس‌ها برای ابزارهای امروزی نیز مشکلاتی ایجاد می‌کنند‫.‬ برای مثال، کلاس‌ها به خوبی کم‌حجم(minify) نمی‌شوند، آن‌ها با عث می‌شوند تا hot reloading شکننده و نامطمین شود‫.‬ ما می‌خواهیم APIای را ارایه دهیم که به کد امکان بهینه‌سازی شدن بیشتری بدهد‫.‬

برای حل این مشکلات، **هوک‌ها به شما اجازه می‌دهند تا از بیشتر قابلیت‌های ری‌اکت بدون کلاس‌ها بهره ببرید.** مفهوما، همیشه کامپوننت‌های ری‌اکت بیشتر به توابع نزدیک‌تر بوده‌اند. هوک‌ها بدون آنکه روح کاربردی ری‌اکت را فداکند، توابع را شامل می‌شوند. هوک‌ها امکان دسترسی به راههای ‌فرار دستوری می‌دهند و شما را مجبور به یادگیری تکنیک‌های پیچیده‌ی توابع یا برنامه‌نویسی ری‌اکتیو نمی‌کند.

>مثال‌ها
>
>[نگاه اجمالی به هوک‌](/docs/hooks-overview.html) نقطه‌ی شروع مناسبی برای یادگیری Hookهاست.

## استراتژی تطبیق تدریجی{#gradual-adoption-strategy}

>**خلاصه: هیچ برنامه‌ای برای حذف کلاس ها از ری‌اکت وجود ندارد‫.‬.**

ما می‌دانیم که دولوپرهای ری‌اکت بر روی عرضه‌ی محصولات تمرکز دارند و وقتی برای نگاه کردن و مطالعه‌ی هر  API جدیدی را که منتشر می‌شود، ندارند. هوک‌ها بسیار جدید هستند، و شاید برای یادگیری و بهره‌گیری از آن‌ها بهتر باشد تا برای مثال‌ها و آموزش‌های بیشتر صبر کنید.

همچنین اطلاع داریم که انتظارات برای اضافه کردن دستورات پایه‌ی جدید به ری‌اکت بسیار بالاست. ما برای خواننده‌های کنجکاو یک [RFC با جزییات](https://github.com/reactjs/rfcs/pull/68) آماده کرده‌ایم که با عمق بیشتری به انگیزه‌ها می‌پردازد، و دید  بیشتری بر تصصمیمات جزیی تصمیم‌گیری‌ها و  تصمیمات مرتبط قبلی فراهم می‌کند.  

‫**‬اساسا، هوک ها در کنار کدهای نوشته‌شده از قبل کار خواهند کرد، پس شما می‌توانید بصورت تدریجی از آن‌ها بهره گیرید** ما این API آزمایشی را برای این به اشتراک  می‌گذاریم تا بتوانیم از بازخوردهای افراد در جامعه که برای شکل دادن به آینده‌ی ری‌اکت مشتاق هستند بهره گیریم. — and we will iterate on Hooks in the open.

در انتها، هیچ عجله‌ای برای مهاجرت به هوک‌ها وجود ندارد. ما پیشنهاد می‌کنیم از هرگونه ‪"‬بازنویسی بزرگ‪"‬ بپرهیزید، مخصوصا برای کامپوننت‌های کلاسی موجود و پیچیده. برای ‪"‬تفکر مبتنی بر هوک‌ها‪"‬ مقداری تامل نیاز است.  تجربه‌ی ما این است که ابتدا بهترین کار تمرین و کار با هوک‌ها در کامپوننت‌های جدید و غیرحیاتی است، و اطمینان بخشیدن از اینکه همه‌ی افراد تیم شما با آن‌ها ارتباط برقرار کرده‌اند. بعد از اینکه هوک‌ها را امتحان کردید، لطفا[بازخوردهای خود را برای ما بفرستید](https://github.com/facebook/react/issues/new) ، چه مثبت و چه منفی.

قصد ما بر این است که هوک‌ها همه‌ی موارد استفاده‌ی کلاس‌ها را شامل شوند، اما **ما از کامپوننت‌های کلاسی تا آینده‌ی در دیدرس پشتیبانی خواهیم کرد.** در فیسبوک، ما ده ها هزار کامپوننتی که با کلاس نوشته شده‌اند داریم، و قطعا هیچ برنامه‌ای برای بازنویسی آن‌ها نداریم. در عوض، ما استفاده از هوک‌ها را در کدهای جدید در کنار کلاس‌ها شروع می‌کنیم.

## سوالات متداول {#frequently-asked-questions}

ما یک [صفحه پرسش و پاسخ متداول از hookها](/docs/hooks-faq.html) فراهم کرده ایم که  اکثر سوالات رایج در مورد هوک‌ها را پاسخ‌ می‌دهد.

## قدم بعدی {#next-steps}

تا به اینجا، شما باید یک ایده‌ی کلی درباره‌ی اینکه هوک‌ها چه مسایلی را حل می‌کنند داشته باشید، البته بسیاری از جزییات احتمالا روشن نیست. نگران نباشید! **به[صفحه‌ی بعدی](/docs/hooks-overview.html) می‌رویم، جایی که یادگیری هوک‌ها را با استفاده از مثال شروع خواهیم کرد.**
